% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gl.gen2fbm.r
\name{gl.gen2fbm}
\alias{gl.gen2fbm}
\title{Convert a gen-backed object to FBM-backed (streamed with big_apply)}
\usage{
gl.gen2fbm(
  x,
  code = bigsnpr::CODE_012,
  backingfile = tempfile("geno_"),
  chunk = 2048L,
  verbose = NULL
)
}
\arguments{
\item{x}{A **`dartR`** (preferred) or **`genlight`** object that currently
has genotype data only in `@gen` (i.e., no FBM yet).}

\item{code}{A `bigsnpr` code mapping for `FBM.code256`. Defaults to
`bigsnpr::CODE_012` (0/1/2 with `NA` support).}

\item{backingfile}{File stem for the FBM backing files. Defaults to a temp file.}

\item{chunk}{Integer, number of **loci per block** to write with `big_apply`
(default `2048L`). Increase for faster IO if you have RAM to spare.}

\item{verbose}{Verbosity: 0, silent or fatal errors; 1, begin and end; 2,
progress log; 3, progress and results summary; 5, full report}
}
\value{
A **`dartR`** object with `@fbm` populated and `@gen` emptied.
}
\description{
`gl.gen2fbm()` converts a `dartR`/`genlight` object that stores genotypes
in the standard list-of-`SNPbin` format (`@gen`) into an `FBM.code256`
stored in the `@fbm` slot (and clears `@gen`, enforcing XOR).
The copy is done **by column blocks** via `bigstatsr::big_apply`, so the
full genotype matrix is never materialized in memory.
}
\examples{
\dontrun{
library(adegenet); library(bigstatsr); library(bigsnpr)
# say 'gl' is a genlight or dartR without FBM
d_fbm <- gl.gen2fbm(gl, code = bigsnpr::CODE_012, chunk = 4096L)
nInd(d_fbm); nLoc(d_fbm)   # dimensions via FBM
head(as.matrix(d_fbm))     # decodes from FBM
}
}
